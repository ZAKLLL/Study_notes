+ TCP/IP五层模型：
  + **物理层**（比特（Bit））：中继器、集线器 
  + **数据链路层**（数据帧（Frame））：网桥、交换器  --- 定义了如何让格式化数据以进行传输
    + 网桥的优点：
      + 1、过滤通信量。网桥可以使用局域网的一个网段上各工作站之间的信息量局限在本网段的范围内，而不会经过网桥溜到其他网段去。
      + 2、扩大了物理范围，也增加了整个局域网上的工作站的最大数目。
      + 3、可使用不同的物理层，可互连不同的局域网。
      + 4、提高了可靠性。如果把较大的局域网分割成若干较小的局域网，并且每个小的局域网内部的信息量明显地高于网间的信息量，那么整个互连网络的性能就变得更好。
    + 网桥的缺点：
      + 1、由于网桥对接收的帧要先存储和查找站表，然后转发，这就增加了时延。
      + 2、在MAC子层并没有流量控制功能。当网络上负荷很重时，可能因网桥缓冲区的存储空间不够而发生溢出，以致产生帧丢失的现象。
      + 3、具有不同MAC子层的网段桥接在一起时，网桥在转发一个帧之前，必须修改帧的某些字段的内容，以适合另一个MAC子层的要求，增加时延。
      + 4、网桥只适合于用户数不太多（不超过几百个）和信息量不太大的局域网，否则有时会产生较大的广播风暴。
  + **网络层** （**分组**（数据包（Packet）））：路由器/ IP是网络层无连接协议,只有网络层设备(路由器)才能分割广播域
  + **运输层**（数据段（Segment）或报文 ）：UDP/TCP/ARQ 协议 网关 定义了一些传输数据的协议和端口号 
    + UDP本身不可靠，可以通过在应用层添加ACK之类的可靠性机制。
    + 边界网关协议（BGP）
  + **应用层**：HTTP/FTP 协议等  硬件设备 网关 (OSI体系中，还有表示层与会话层)
  
+ 电路交换：交换机Switching 建立连接-->通话-->释放连接  (低效)

+ 分组交换： 存储转发技术 分组(包):首部+数据 --->使用路由器+协议   (高效)

+ 报文交换： 无分组的存储交换

+ 滑动窗口协议:

  1、停止等待协议，发送窗口=1，接受窗口=1； 计算机网络：p213

  2、退后N帧协议，发送>1,接收=1;

  3、选择重传协议，发送>1,接收>1;

+ TCP三次握手：
  
  + ![1570007669990](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1570007669990.png)
  + 第一次
    第一次握手：建立连接时，客户端发送syn包（syn=j）到服务器，并进入SYN_SENT(可发送)状态，等待服务器确认；SYN：同步序列编号（Synchronize Sequence Numbers）。
  + 第二次
    第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（seq=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；
  + 第三次
  第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=k+1），此包发送完毕，客户端和服务器进入ESTABLISHED（TCP连接成功）状态，完成三次握手。
    完成三次握手，客户端与服务器开始传送数据，
  
+ 四次挥手(双向确认关闭)：

  + ![1570674536338](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1570674536338.png)
  + 客户端-发送一个 FIN，用来关闭客户端到服务器的数据传送
  + 服务器-收到这个 FIN，它发回一 个 ACK，确认序号为收到的序号加1 。和 SYN 一样，一个 FIN 将占用一个序号
  + 服务器-关闭与客户端的连接，发送一个FIN给客户端
  + 客户端-发回 ACK 报文确认，并将确认序号设置为收到序号加1

+ TCP 的拥塞控制方法（计算机网络p234）：
  
  + ![1570036506062](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1570036506062.png)
  + 慢开始 ：由小到大逐渐增大发送窗口
  + 拥塞避免：cwnd按线性规律缓慢增长
  
+ 快重传
  
  + 快恢复
  
+ HTTP状态码：
  
  + ***301***:**永久重定向**
  + ***302***：**临时重定向**
  + 401：Unauthoriez
  + 400: Badrequest
  + 403: forbidden
  + 415 : unsurpport media type
  + 500 : 服务器错误
  + 502 ： 网关错误 Bad GateWay
  + 503 : Service Unavailable
    + 504 : GateWay Timeout 网关超时
  
+ linux使用的进程间通信方式包括：

  ​	管道，信号，消息队列，信号量，套接字

+ DNS：协议大多运行在UDP协议之上，端口号为53

+ 由物理层、数据链路层和网络层组成的通信子网为网络环境中的主机提供点到点的服务，而传输层为网络中的主机提供端到端的通信。端到端通信建立在点到点通信的基础之上，它是由一段段的点到点通信信道构成的，是比点到点通信更高一级的通信方式，完成应用程序(进程)之间的通信。

+ PPP协议：

  + 点到点协议（Point to Point Protocol，PPP）是为在同等[单元](https://baike.baidu.com/item/单元/32922)之间传输[数据包](https://baike.baidu.com/item/数据包)这样的简单链路设计的[链路层](https://baike.baidu.com/item/链路层)协议，这种链路提供全双工操作，并按照顺序传递数据包。PPP是面向字符类型的协议
  
+ 三类网络地址：

  + A:1.0.0.0-126.0.0.0
  + B:128.0.0.0-191.255.255.255
  + C:192.0.0.0- 223.255.255.255

+ ![1568365975077](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1568365975077.png)

+ ![1568365987405](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1568365987405.png)

+ 各类协议：

  + ARP(**A**ddress **R**esolution **P**rotocol)地址解析协议：通过已知IP地址请求对应的物理地址。
  + RARP(Reverse Address Resolution Protocol)逆地址解析协议：通过已知的物理地址请求对应的IP地址。
  + NAT(**N**etwork **A**ddress **T**ranslation)网络地址转换:内网IP外网IP转换
  + ICMP(Internet Control Message Protocol): TCP/IP协议簇的一个子协议，用于在IP主机、路由器之间传递控制消息
  + Telnet: Internet远程登录协议
  + PDU(Protocal Data Unit):协议数据单元，指对等层次之间传递的数据单元。
  + POP3: 全名为“Post Office Protocol - Version 3”，即“[邮局协议](https://baike.baidu.com/item/邮局协议)版本3”。是[TCP/IP](https://baike.baidu.com/item/TCP%2FIP)协议族中的一员，由[RFC](https://baike.baidu.com/item/RFC)1939 定义。本协议主要用于支持使用客户端远程管理在[服务器](https://baike.baidu.com/item/服务器/100571)上的电子邮件。提供了[SSL](https://baike.baidu.com/item/SSL)加密的POP3协议被称为POP3S。

+ Linux下查看ARP缓存记录 arp -a  删除缓存记录 arp -d

+ 异步传递模式ATM 采用信元**定长**分组，并使用**光纤信道**传输。

+ 10BASE-T(非屏蔽双绞线)最长传输距离不超过100m。(只要是四对双绞线，最大传输距离都是100米)

+ 套接字{ip:port}：抽象概念，表示TCP连接的一端.

+ 决定局域网特性的主要技术要素:

  + 网络拓扑结构
  + 传输介质
  + **介质访问控制方法**(最重要)

+ TCP报文格式：

  + TCP 报文段首部的前 20 个字节是固定的，后面有 4n 字节是根据需要而增加的选项 (n 是整数)。
  + ![1569069060081](C:\Users\HP\AppData\Roaming\Typora\typora-user-images\1569069060081.png)

+ **TCP是双通道的通信模式，因此TCP的连接其实是两条物理连接，即客户端到服务器和服务器到客户端的连接**

+ TCP协议是一种面向连接的、可靠的、基于字节流的运输层通信协议。TCP是全双工模式,因此当关闭时每个方向都必须单独进行关闭.

  + ###### 为什么需要“三次握手”?

     为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误。
  
+ **IPV6** **地址** **128bit** **，报文头** **40B** **，** **IPV4** **地址** **32bit** **，报文头** **20B**

+ HTTP长连接和短连接：

  + **长连接：** 客户端和服务端建立连接后不进行断开，之后客户端再次访问这个服务器上的内容时，继续使用这一条连接通道。

  + **短连接：** 客户端和服务端建立连接，发送完数据后立马断开连接。下次要取数据，需要再次建立连接。

  +   > 在HTTP/1.0中，默认使用的是短连接。但从 HTTP/1.1起，默认使用长连接。

  + 区别：
    
    + Http长连接 和 TCP长连接的区别在于: **TCP 的长连接需要自己去维护一套心跳策略。**，而Http只需要在请求头加入`keep-alive:true`即可实现长连接。

+ WebSocket:
  + **WebSocket**是一种[网络传输协议](https://zh.wikipedia.org/wiki/网络传输协议)，可在单个[TCP](https://zh.wikipedia.org/wiki/传输控制协议)连接上进行[全双工](https://zh.wikipedia.org/wiki/全雙工)通信，位于[OSI模型](https://zh.wikipedia.org/wiki/OSI模型)的[应用层](https://zh.wikipedia.org/wiki/应用层)。
  + WebSocket是一种与[HTTP](https://zh.wikipedia.org/wiki/超文本传输协议)不同的协议。两者都位于[OSI模型](https://zh.wikipedia.org/wiki/OSI模型)的[应用层](https://zh.wikipedia.org/wiki/应用层)，并且都依赖于[传输层](https://zh.wikipedia.org/wiki/传输层)的TCP协议。 虽然它们不同，但RFC 6455规定：“WebSocket设计为通过80和443端口工作，以及支持HTTP代理和中介”，从而使其与HTTP协议兼容。 为了实现兼容性，WebSocket握手使用HTTP Upgrade头[[1\]](https://zh.wikipedia.org/wiki/WebSocket#cite_note-1)从HTTP协议更改为WebSocket协议。

+ Cookie:

  +  Cookie 是浏览器访问服务器后，服务器传给浏览器的一段数据。

  +  浏览器需要保存这段数据，不得轻易删除。

  + 此后每次浏览器访问该服务器，都必须带上这段数据。

  + 如何使用Cookie：

    + Cookie 一般有两个作用。

      1. 第一个作用是识别用户身份。

         比如用户 A 用浏览器访问了 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com)，那么 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 的服务器就会立刻给 A 返回一段数据「uid=1」（这就是 Cookie）。当 A 再次访问 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 的其他页面时，就会附带上「uid=1」这段数据。

         同理，用户 B 用浏览器访问 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 时，[http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 发现 B 没有附带 uid 数据，就给 B 分配了一个新的 uid，为2，然后返回给 B 一段数据「uid=2」。B 之后访问 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 的时候，就会一直带上「uid=2」这段数据。

         借此，[http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 的服务器就能区分 A 和 B 两个用户了。

      2. 第二个作用是记录历史。

         假设 [http://a.com](https://link.zhihu.com/?target=http%3A//a.com) 是一个购物网站，当 A 在上面将商品 A1 、A2 加入购物车时，JS 可以改写 Cookie，改为「uid=1; cart=A1,A2」，表示购物车里有 A1 和 A2 两样商品了。

         这样一来，当用户关闭网页，过三天再打开网页的时候，依然可以看到 A1、A2 躺在购物车里，因为浏览器并不会无缘无故地删除这个 Cookie。

         借此，就达到里记录用户操作历史的目的了。

    
    
    
    
  
+ HTTP协议：

  + HTTP协议是基于TCP的应用层无状态协议
  + HTTP1.0，HTTP1.1，HTTP2.0比较：
    + 1.0:基础的HTTP协议，每次HTTP请求都需要建立一个TCP链接，速度慢，容易造成阻塞
    + 1.1:在1.0的基础上增加了长连接功能，在一个TCP链接中可以发送多次HTTP请求，并且增加了管道化实现将请求连续放在队列中发送出去，不用等待回应，但会产生线头阻塞问题，因此管道化并不流行
    + 2.0:与1.1相比较，将管道化改进为多路复用，使用stream-流模型来实现连续的无需等待响应的请求，流模型中一个request对应一个服务端id，这样一个连接上可以有多个request，每个连接的request可以随机的混杂在一起，接收方可以根据request的 id将request再归属到各自不同的服务端请求里。其次，2.0将协议内容从之前的文本形式改为二进制形式，增强了健壮性，能兼容更多的内容；还有，2.0增加了头部压缩技术，使用encoder来减少需要传输的header大小，通讯双方各自cache一份header fields表，既避免了重复header的传输，又减小了需要传输的大小。最后2.0还使用了服务端推送技术，服务端可以将与这次请求有关的资源一起发送给客户端。